<!DOCTYPE html>
<html>
<head>
    <title>ENGR 96E Electrocardiogram Data Presentation</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background-color: #f2f2f2;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            width: 80%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f2f2f2;
            padding: 20px;
            margin-top: 60px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .upload-button {
            padding: 10px 20px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .range-selection {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .range-selection-label {
            margin-right: 10px;
        }

        .range-selection-select {
            padding: 5px;
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            display: none;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-weight: bold;
            color: #888;
            cursor: pointer;
        }

        canvas {
            width: 100%;
            height: 400px;
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <h1>Heart Rate and ECG Data Tracking Dashboard</h1>
    </div>

    <div class="container">
        <div class="range-selection">
            <label class="range-selection-label" for="range-select">Select Range:</label>
            <select class="range-selection-select" id="range-select">
                <option value="3">Last 3 Months</option>
                <option value="6">Last 6 Months</option>
                <option value="12">Last 12 Months</option>
                <option value="all">All Months</option>
            </select>
        </div>
        <button class="upload-button">Upload Data</button>
        <canvas id="heartRateChart"></canvas>
        <h2>Most Recent ECG Reading Data</h2>
        <canvas id="ecgChart"></canvas>
    </div>

    <div class="popup" id="popup">
        <span class="close-button" id="close-button">&times;</span>
        <h2>Upload Data</h2>
        <p>This is the popup content.</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const uploadButton = document.querySelector('.upload-button');
        const popup = document.getElementById('popup');
        const closeButton = document.getElementById('close-button');

        uploadButton.addEventListener('click', () => {
            popup.style.display = 'block';
        });

        closeButton.addEventListener('click', () => {
            popup.style.display = 'none';
        });

        // Chart Data
        const heartRateData = {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [
                {
                    label: 'Heart Rate',
                    data: [60, 65, 70, 68, 72, 75, 80],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }
            ]
        };

        const ecgData = generateECGData();

        function generateECGData() {
            const labels = [];
            const data = [];
            const period = 0.1; // Time period in seconds
            const amplitude = 2.5;
            const frequency = 1.5;
            const numberOfPoints = 750;

            for (let i = 0; i < numberOfPoints; i++) {
                const t = i * period;
                const ecgValue = amplitude * Math.sin(2 * Math.PI * frequency * t);
                labels.push(`Time ${i + 1}`);
                data.push(ecgValue);
            }

            return {
                labels: labels,
                datasets: [
                    {
                        label: 'ECG Reading',
                        data: [-0.11252183,-2.8272038,-3.7738969,-4.3497511,-4.376041,-3.4749863,-2.1814082,-1.8182865,-1.2505219,-0.47749208,-0.36380791,-0.49195659,-0.42185509,-0.30920086,-0.4959387,-0.34211867,-0.35533627,-0.36791303,-0.31650279,-0.41237405,-0.47167181,-0.41345783,-0.36461703,-0.44929829,-0.47141866,-0.42477658,-0.46251673,-0.55247236,-0.47537519,-0.6942,-0.7018681,-0.59381178,-0.66068415,-0.71383066,-0.76980688,-0.67228161,-0.65367605,-0.63940562,-0.55930228,-0.59167032,-0.49322332,-0.46305183,-0.30164382,-0.23273401,-0.12505488,-0.15394314,-0.024357404,-0.065608758,0.034999258,0.061935219,0.07119542,0.12392505,0.10312371,0.22522849,0.12868305,0.30248315,0.25727621,0.19635161,0.17938297,0.24472863,0.34121687,0.32820441,0.40604169,0.44660507,0.42406823,0.48151204,0.4778438,0.62408259,0.57458456,0.59801319,0.5645919,0.607979,0.62063457,0.65625291,0.68474806,0.69427284,0.66558377,0.57579577,0.63813479,0.61491695,0.56908343,0.46857572,0.44281777,0.46827436,0.43249295,0.40795792,0.41862256,0.36253075,0.41095901,0.47166633,0.37216676,0.33787543,0.22140511,0.27399747,0.29866408,0.26356357,0.34256352,0.41950529,0.58660736,0.86062387,1.1733446,1.2581791,1.4337887,1.7005334,1.9990431,2.1253411,1.9932907,1.9322463,1.7974367,1.5222839,1.2511679,0.99873034,0.48372242,0.023132292,-0.19491383,-0.22091729,-0.24373668,-0.25469462,-0.29113555,-0.25649034,-0.22787425,-0.32242276,-0.28928586,-0.31816951,-0.36365359,-0.39345584,-0.26641886,-0.25682316,-0.28869399,-0.16233755,0.16034772,0.79216787,0.93354122,0.79695779,0.57862066,0.2577399,0.22807718,0.12343082,0.92528624,0.19313742,1.0,
                        -1.1008778,-3.9968398,-4.2858426,-4.5065789,-4.0223767,-3.2343676,-1.5661258,-0.99225766,-0.75467971,0.042321173,0.14895093,0.18352707,0.29487608,0.19023267,0.235575,0.25348712,0.2217424,0.050233259,0.17804214,0.13956318,0.046794433,0.043007139,0.10654432,0.012654003,0.0039948539,0.045724179,-0.045999362,-0.072666959,-0.071077909,-0.15386649,-0.22725443,-0.2492697,-0.25348935,-0.33283516,-0.26432996,-0.34582525,-0.31078107,-0.33415978,-0.30617791,-0.17456252,-0.20616017,-0.22447967,-0.048683931,-0.019621159,0.094805186,0.11678639,0.18518592,0.23052577,0.13802707,0.24442554,0.27169477,0.25900331,0.26920166,0.12706463,0.20207339,0.25598343,0.15311526,0.21021583,0.19108187,0.19092702,0.21051006,0.20710764,0.20488835,0.20086474,0.34691963,0.3480019,0.25453726,0.33197465,0.3566903,0.34992982,0.43037963,0.46750163,0.48606309,0.4031884,0.47895569,0.39739177,0.46412003,0.45179539,0.36136121,0.3798309,0.34278528,0.39910656,0.3875084,0.25570346,0.28403408,0.28499257,0.25010809,0.17303626,0.14942257,0.141685,0.22226096,0.17284705,0.15077932,0.17656601,0.28094204,0.48993901,0.66088884,0.8931933,1.0269972,1.2023937,1.5574096,1.8084277,2.1643459,2.0707467,1.9036136,1.7644552,1.5077694,1.2934277,0.89456215,0.57801575,0.24434305,-0.28644345,-0.51588134,-0.73270694,-0.83246547,-0.80331806,-0.83625248,-0.77786456,-0.77475301,-0.73340394,-0.72138631,-0.83209517,-0.71198159,-0.7518673,-0.7577196,-0.85311967,-0.76698841,-0.68816064,-0.51992349,0.039406169,0.56032676,0.53835583,0.65688079,0.78748958,0.72404623,0.55578372,0.47633335,0.77381971,1.1196209,-1.4362499,1.0,
                        -0.56708802,-2.5934502,-3.8742297,-4.5840949,-4.1874487,-3.1514617,-1.7429402,-1.4906585,-1.1835803,-0.39422869,-0.28289676,-0.35692576,-0.28729745,-0.3994889,-0.47324409,-0.37904758,-0.39903903,-0.17859449,-0.33952226,-0.49844722,-0.33725108,-0.42547978,-0.42395228,-0.46317045,-0.49325315,-0.54974899,-0.52983109,-0.53093478,-0.5023649,-0.41736768,-0.52634573,-0.47100496,-0.67678428,-0.89861193,-0.61057104,-0.5301643,-0.76567438,-0.58193724,-0.53784761,-0.55638598,-0.43802347,-0.43624802,-0.40011375,-0.13498651,-0.23934677,-0.12024439,-0.0019714041,0.28500048,0.31564573,0.10736401,0.10952148,0.15807843,0.29189779,0.2612945,0.18840714,0.14065136,0.26336542,0.28720706,0.31431725,0.17794238,0.13829008,0.32106868,0.45816774,0.25191615,0.26135293,0.27748753,0.29879325,0.45907535,0.41914662,0.52050892,0.53776119,0.60321071,0.47563399,0.52169287,0.73524831,0.72954106,0.71852334,0.49843316,0.54544098,0.60482668,0.52129639,0.39438062,0.40502023,0.59756305,0.53113004,0.3776509,0.46770093,0.45756933,0.34111609,0.40791318,0.45912699,0.40393661,0.2981912,0.46110053,0.6646591,0.58775722,0.70132474,0.91720459,1.2479873,1.5055679,1.6401054,1.8109878,2.1853978,2.2629849,2.0529202,1.890488,1.793033,1.5647844,1.2346189,0.90030201,0.55195714,0.25822163,-0.128587,-0.092585287,-0.16860627,-0.4959888,-0.39503448,-0.32823831,-0.44813804,-0.26823009,-0.45641485,-0.35786694,-0.31750833,-0.43411223,-0.54920348,-0.32461549,-0.26808235,-0.22038421,-0.11742905,0.61405916,1.2848254,0.88607336,0.5314524,0.31137684,-0.021918959,-0.71368344,-0.53219671,0.32109663,0.90422673,-0.42179659,1.0,
                        0.49047253,-1.9144071,-3.6163638,-4.3188235,-4.2680158,-3.8811104,-2.9932802,-1.6711314,-1.3338845,-0.96562916,-0.18331859,-0.10165662,-0.27387437,-0.12781761,-0.19598345,-0.21352292,-0.17647269,-0.1569316,-0.14917231,-0.18150997,-0.18007406,-0.24615133,-0.27425986,-0.14095962,-0.27744877,-0.38254906,-0.31193709,-0.36009264,-0.40596818,-0.57143343,-0.52410561,-0.53788646,-0.60677754,-0.66144617,-0.68337478,-0.74668256,-0.63566206,-0.62523095,-0.54009375,-0.67499495,-0.65394896,-0.56691641,-0.52404493,-0.41471114,-0.38778691,-0.28443735,-0.07274462,-0.16012546,-0.092159535,0.067164899,0.081472141,0.056181748,0.024692229,0.07439508,0.15288791,0.091033246,0.11015952,0.11727766,0.11383231,0.14180793,0.27149224,0.24974277,0.19760783,0.24393891,0.38653837,0.30001951,0.30980097,0.34466985,0.38970986,0.44285015,0.43342958,0.54871006,0.52503659,0.52197499,0.62395373,0.5491593,0.6691888,0.62992818,0.53957342,0.59928297,0.49785318,0.63809316,0.61173698,0.49190824,0.57394864,0.51624467,0.57262973,0.48459064,0.37438176,0.46177251,0.41466066,0.37163879,0.44516957,0.48416962,0.55606057,0.65872426,0.86115788,1.0163973,1.135606,1.216973,1.5530785,1.772155,2.0007688,1.9250032,1.898426,1.7209525,1.5017111,1.4224917,1.0232255,0.77634127,0.50442626,0.056381865,-0.23316061,-0.40638829,-0.327528,-0.460868,-0.40253556,-0.34575164,-0.35420649,-0.43995884,-0.42532593,-0.43978873,-0.45183526,-0.39592642,-0.44876235,-0.39178907,-0.37630746,-0.46106907,-0.25352442,0.21300588,0.4911732,0.35081636,0.49911056,0.60034499,0.8420694,0.95207354,0.99013318,1.0867984,1.403011,-0.38356426,1.0,
                        0.80023202,-0.87425189,-2.3847613,-3.9732924,-4.3382241,-3.8024222,-2.5345096,-1.7834233,-1.5944504,-0.75319899,-0.29810663,-0.42892797,-0.49135079,-0.36130424,-0.33929554,-0.32495154,-0.29011333,-0.36305106,-0.52568383,-0.59742301,-0.57552317,-0.56750306,-0.50455484,-0.61840616,-0.68281354,-0.74384873,-0.81558784,-0.82690193,-0.78237433,-0.92946196,-0.99967167,-1.0609695,-1.0078773,-1.0287349,-1.1226293,-1.0286499,-1.0465146,-1.0633724,-1.1224228,-0.98324201,-0.85586525,-0.791266,-0.58875425,-0.51830558,-0.39729838,-0.35433285,-0.20742492,-0.088266017,-0.16873361,-0.067592085,-0.032772281,0.071899471,0.081485179,0.067225257,0.13271969,0.070240933,0.10043175,0.15041753,0.10988654,0.14886026,0.20874762,0.22823622,0.27366422,0.29952441,0.32706231,0.24231412,0.38610522,0.41908722,0.43971785,0.48895381,0.54171511,0.57386922,0.63355476,0.41167103,0.44091729,0.5887054,0.53086502,0.55896452,0.60687423,0.61472869,0.53777156,0.59929423,0.64046303,0.56839906,0.54471048,0.55795891,0.53776149,0.47229245,0.46659561,0.63441689,0.42517487,0.42077721,0.44052297,0.36102802,0.35929943,0.32136632,0.42132549,0.50512195,0.67748866,0.90869284,0.98223031,1.1553635,1.3362539,1.6275344,1.7175939,1.6964865,1.7416856,1.674078,1.5469278,1.3317385,1.1101682,0.92221037,0.52177665,0.15485176,-0.1238607,-0.20299778,-0.24795602,-0.21912177,-0.2146952,-0.31921472,-0.19859713,-0.15161786,-0.12959259,-0.074938934,-0.19680704,-0.17479482,-0.20883265,-0.21075375,-0.10048537,0.19744621,0.966606,1.1488838,0.95843425,1.0590254,1.3716823,1.2773918,0.96030393,0.97101956,1.6143924,1.4214563,1.0],
                        backgroundColor: 'rgba(192, 75, 75, 0.2)',
                        borderColor: 'rgba(192, 75, 75, 1)',
                        borderWidth: 1,
                        pointRadius: 0, // Hide individual data points
                    }
                ]
            };
        }

        // Chart Options
        const options = {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                title: {
                    display: true,
                    text: 'Heart Rate Trend'
                }
            },
            scales: {
                y: {
                    suggestedMax: 3, // Adjust the y-axis scale for smoother line
                }
            }
        };

        // Create Charts
        const heartRateCtx = document.getElementById('heartRateChart').getContext('2d');
        const heartRateChart = new Chart(heartRateCtx, {
            type: 'line',
            data: heartRateData,
            options: options
        });

        const ecgCtx = document.getElementById('ecgChart').getContext('2d');
        const ecgChart = new Chart(ecgCtx, {
            type: 'line',
            data: ecgData,
            options: options
        });
    </script>
</body>
</html>
